{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\login\\register-submit\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\login\\register-submit\\index.vue","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1737137193353},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1737137194839}],"contextDependencies":[],"result":["\nimport field from '@/components/field/';\nimport fieldGroup from '@/components/field-group/';\nimport { authRegisterCaptcha } from '@/api/api';\nimport { authRegister } from '@/api/api';\nimport {Toast} from \"vant\";\n\nexport default {\n\tprops: {\n\t\tphone: String\n\t},\n\tdata() {\n\t\treturn {\n\t\t  counting: true,\n\t\t  code: '',\n\t\t  username: '',\n\t\t  password: '',\n\t\t  repeatPassword: ''\n\t\t};\n\t},\n\tmounted:function(){\n\t\tthis.getCode();\n\t},\n\n  methods: {\n    registerSubmit() {\n      if(this.username === '' || this.code === ''){\n        return\n      }\n      if(this.password === '' || this.repeatPassword === ''){\n        return\n      }\n      if(this.password !== this.repeatPassword){\n        this.password = ''\n        this.repeatPassword = ''\n        return\n      }\n      let data = this.getRegisterData();\n      authRegister(data).then(res => {\n        this.$router.push({\n          name: 'registerStatus',\n          params: { status: 'success' }\n        });\n      }).catch (error => {\n        Toast.fail(error.data.errmsg);\n        if (error.data.errno == 705) {\n          window.location = '#/login/';\n        }\n      });\n    },\n\n    getCode() {\n      this.counting = true;\n      let data = {\n        mobile: this.phone\n      };\n      authRegisterCaptcha(data).then(res => {\n        this.counting = true;\n      }).catch(error => {\n        alert(error.data.errmsg);\n        this.counting = true;\n      });\n    },\n\n    getRegisterData() {\n      const password = this.password;\n      const code = this.code;\n      const repeatPassword = this.repeatPassword;\n      const mobile = this.phone;\n      const username = this.username;\n      return {\n        code: code,\n        username: username,\n        password: password,\n        repeatPassword: repeatPassword,\n        mobile: mobile\n      };\n    },\n\n    countDownEnd() {\n      this.counting = false;\n    }\n  },\n\n  components: {\n    [field.name]: field,\n    [fieldGroup.name]: fieldGroup\n  }\n};\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAqBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login/register-submit","sourcesContent":["<template>\n\t<md-field-group class=\"register_submit\">\n\t\t<md-field v-model=\"code\" icon=\"mobile\" placeholder=\"请输入验证码\">\n\t\t\t<div slot=\"rightIcon\" @click=\"getCode\" class=\"getCode red\">\n\t\t\t\t<countdown v-if=\"counting\" :time=\"60000\" @end=\"countDownEnd\">\n\t\t\t\t  <template slot-scope=\"props\">{{ +props.seconds || 60 }}秒后获取</template>\n\t\t\t\t</countdown>\n\t\t\t\t<span v-else>获取验证码</span>\n\t\t\t</div>\n\t\t</md-field>\n\t\t<md-field v-model=\"username\" icon=\"username\" placeholder=\"请输入用户名\"/>\n\t\t<md-field v-model=\"password\" icon=\"lock\" placeholder=\"请输入密码\"/>\n\t\t<md-field v-model=\"repeatPassword\" icon=\"lock\" placeholder=\"请再次确认密码\"/>\n\n\t\t<div class=\"register_submit_btn\">\n\t\t\t<van-button type=\"danger\" size=\"large\" @click=\"registerSubmit\">确定</van-button>\n\t\t</div>\n\t</md-field-group>\n</template>\n\n<script>\nimport field from '@/components/field/';\nimport fieldGroup from '@/components/field-group/';\nimport { authRegisterCaptcha } from '@/api/api';\nimport { authRegister } from '@/api/api';\nimport {Toast} from \"vant\";\n\nexport default {\n\tprops: {\n\t\tphone: String\n\t},\n\tdata() {\n\t\treturn {\n\t\t  counting: true,\n\t\t  code: '',\n\t\t  username: '',\n\t\t  password: '',\n\t\t  repeatPassword: ''\n\t\t};\n\t},\n\tmounted:function(){\n\t\tthis.getCode();\n\t},\n\n  methods: {\n    registerSubmit() {\n      if(this.username === '' || this.code === ''){\n        return\n      }\n      if(this.password === '' || this.repeatPassword === ''){\n        return\n      }\n      if(this.password !== this.repeatPassword){\n        this.password = ''\n        this.repeatPassword = ''\n        return\n      }\n      let data = this.getRegisterData();\n      authRegister(data).then(res => {\n        this.$router.push({\n          name: 'registerStatus',\n          params: { status: 'success' }\n        });\n      }).catch (error => {\n        Toast.fail(error.data.errmsg);\n        if (error.data.errno == 705) {\n          window.location = '#/login/';\n        }\n      });\n    },\n\n    getCode() {\n      this.counting = true;\n      let data = {\n        mobile: this.phone\n      };\n      authRegisterCaptcha(data).then(res => {\n        this.counting = true;\n      }).catch(error => {\n        alert(error.data.errmsg);\n        this.counting = true;\n      });\n    },\n\n    getRegisterData() {\n      const password = this.password;\n      const code = this.code;\n      const repeatPassword = this.repeatPassword;\n      const mobile = this.phone;\n      const username = this.username;\n      return {\n        code: code,\n        username: username,\n        password: password,\n        repeatPassword: repeatPassword,\n        mobile: mobile\n      };\n    },\n\n    countDownEnd() {\n      this.counting = false;\n    }\n  },\n\n  components: {\n    [field.name]: field,\n    [fieldGroup.name]: fieldGroup\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import '../../../assets/scss/mixin';\n\n.register_submit {\n  padding-top: 40px;\n  background-color: #fff;\n}\n\n.register_submit_btn {\n  padding-top: 30px;\n}\n\n.getCode {\n  @include one-border(left);\n  text-align: center;\n}\n\n.time_down {\n  color: $red;\n}\n</style>\n"]}]}