{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\user-information-set\\set-password\\index.vue?vue&type=style&index=0&id=5c8f374f&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\user-information-set\\set-password\\index.vue","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\css-loader\\index.js","mtime":1737137197319},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1737137197255},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1737137198226},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1737137197662},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1737137194839}],"contextDependencies":[],"result":["\n@import '../../../../assets/scss/var';\n@import '../../../../assets/scss/mixin';\n.bottom_btn {\n  padding: 30px 15px 0 15px;\n}\n\n.verifi_code {\n  @include one-border;\n  padding-left: 10px;\n  &::after {\n    border-bottom: 0;\n    border-left: 1px solid $border-color;\n  }\n\n  &_counting {\n    color: $font-color-gray;\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAiHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/user/user-information-set/set-password","sourcesContent":["<template>\n  <div>\n    <van-cell-group>\n\n      <van-field\n        label=\"手机号码\"\n        v-model=\"mobile\"\n        placeholder=\"请输入手机号码\"\n      />\n\n\t\t\t<van-field\n\t\t\t\tlabel=\"验证码\"\n\t\t\t\tv-model=\"code\"\n\t\t\t\t@click-icon=\"getCode\"\n\t\t\t\tplaceholder=\"请输入验证码\">\n\n\t\t\t\t<span slot=\"button\"\n\t\t\t\t\tclass=\"verifi_code red\"\n\t\t\t\t\t:class=\"{verifi_code_counting: counting}\"\n\t\t\t\t\t@click=\"getCode\">\n\t\t\t\t\t<countdown v-if=\"counting\" :time=\"60000\" @end=\"countdownend\">\n\t\t\t\t\t  <template slot-scope=\"props\">{{ +props.seconds || 60 }}秒后获取</template>\n\t\t\t\t\t</countdown>\n\t\t\t\t\t<span v-else>获取验证码</span>\n\t\t\t\t</span>\n\t\t\t</van-field>\n\n      <van-field\n        label=\"新密码\"\n        v-model=\"password\"\n        type=\"password\"\n        placeholder=\"请输入新密码\"\n      />\n\n      <van-field\n        label=\"确认密码\"\n        v-model=\"password2\"\n        type=\"password\"\n        placeholder=\"请再次输入密码\"\n      />\n\n    </van-cell-group>\n\n    <div class=\"bottom_btn\">\n      <van-button size=\"large\" type=\"danger\" @click=\"modifypassword\">保存</van-button>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { authCaptcha, authReset, authLogout } from '@/api/api';\nimport { removeLocalStorage } from '@/utils/local-storage';\nimport { Field, Toast } from 'vant';\n\nexport default {\n  data: () => ({\n    password: '',\n    password2: '',\n    mobile: '',\n    code: '',\n    counting: false\n  }),\n\n  methods: {\n    modifypassword() {\n      if (this.passwordValid()) {\n        authReset({\n          password: this.password,\n          mobile: this.mobile,\n          code: this.code\n        })\n        .then(() => {\n          this.$dialog.alert({ message: '保存成功, 请重新登录.' })\n          authLogout();\n        }).catch (error => {\n        Toast.fail(error.data.errmsg);\n        });\n      }\n    },\n    passwordValid() {\n      return true;\n    },\n    getCode() {\n      if(this.mobile === ''){\n        this.$toast.fail('请输入号码');\n        return\n      }\n\n      if (!this.counting) {\n        authCaptcha({\n          mobile: this.mobile,\n          type: 'change-password'\n        }).then(() => {\n          this.$toast.success('发送成功');\n          this.counting = true;\n        }).catch(error => {\n          this.$toast.fail(error.data.errmsg);\n          this.counting = false;\n        })\n\n      }\n    },\n  },\n\n  components: {\n    [Field.name]: Field\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import '../../../../assets/scss/var';\n@import '../../../../assets/scss/mixin';\n.bottom_btn {\n  padding: 30px 15px 0 15px;\n}\n\n.verifi_code {\n  @include one-border;\n  padding-left: 10px;\n  &::after {\n    border-bottom: 0;\n    border-left: 1px solid $border-color;\n  }\n\n  &_counting {\n    color: $font-color-gray;\n  }\n}\n</style>\n"]}]}