{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\order\\order-detail\\index.vue?vue&type=style&index=0&id=75a343a4&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\order\\order-detail\\index.vue","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\css-loader\\index.js","mtime":1737137197319},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1737137197255},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1737137198226},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1737137197662},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1737137194839}],"contextDependencies":[],"result":["\n.order_detail {\n  padding-bottom: 70px;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgMA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/order/order-detail","sourcesContent":["<template>\n  <div class=\"order_detail\">\n    <div class=\"order-goods\">\n      <van-card v-for=\"item in orderGoods\"\n                :key=\"item.id\"\n                :title=\"item.goodsName\"\n                desc=\"暂无描述\"\n                :num=\"item.number\"\n                :price=\"item.price +'.00'\"\n                :thumb=\"item.picUrl\"></van-card>\n\n      <van-cell-group>\n        <van-cell title=\"商品金额\">\n          <span class=\"red\">{{orderInfo.goodsPrice * 100 | yuan}}</span>\n        </van-cell>\n        <van-cell title=\"快递费用\">\n          <span class=\"red\">{{orderInfo.freightPrice * 100 | yuan}}</span>\n        </van-cell>\n      </van-cell-group>\n    </div>\n\n    <van-cell-group style=\"margin-top: 20px;\">\n      <van-cell icon=\"dingwei\"\n                :title=\"`${orderInfo.consignee}  ${orderInfo.mobile}`\"\n                :label=\"orderInfo.address\" />\n    </van-cell-group>\n\n    <van-cell-group style=\"margin-top: 20px;\">\n      <van-cell title=\"下单时间\">\n        <span>{{orderInfo.addTime }}</span>\n      </van-cell>\n      <van-cell title=\"订单编号\">\n        <span>{{orderInfo.orderSn }}</span>\n      </van-cell>\n      <van-cell title=\"订单备注\">\n        <span>{{orderInfo.remark }}</span>\n      </van-cell>\n\n      <van-cell title=\"实付款：\">\n        <span class=\"red\">{{orderInfo.actualPrice * 100 | yuan}}</span>\n      </van-cell>\n      <!-- 订单动作 -->\n      <van-cell>\n        <van-button size=\"small\"\n                    v-if=\"handleOption.cancel\"\n                    @click=\"cancelOrder(orderInfo.id)\"\n                    style=\" float:right\"\n                    round\n                    type=\"danger\">取消订单</van-button>\n        <van-button size=\"small\"\n                    v-if=\"handleOption.pay\"\n                    @click=\"payOrder(orderInfo.id)\"\n                    style=\" float:right\"\n                    round\n                    type=\"danger\">去支付</van-button>\n        <van-button size=\"small\"\n                    v-if=\"handleOption.delete\"\n                    @click=\"deleteOrder(orderInfo.id)\"\n                    style=\" float:right\"\n                    type=\"danger\">删除订单</van-button>\n        <van-button size=\"small\"\n                    v-if=\"handleOption.confirm\"\n                    @click=\"confirmOrder(orderInfo.id)\"\n                    style=\" float:right\"\n                    type=\"danger\">确认收货</van-button>\n        <van-button size=\"small\"\n                    v-if=\"handleOption.refund\"\n                    @click=\"refundOrder(orderInfo.id)\"\n                    style=\" float:right\"\n                    type=\"danger\">退款</van-button>\n      </van-cell>\n    </van-cell-group>\n\n    <van-cell-group v-if=\"showExp()\"\n                    style=\"margin-top: 20px;\">\n      <van-cell title=\"快递公司\">\n        <span>{{orderInfo.expCode }}</span>\n      </van-cell>\n      <van-cell title=\"快递编号\">\n        <span>{{orderInfo.expNo }}</span>\n      </van-cell>\n    </van-cell-group>\n  </div>\n</template>\n\n<script>\nimport { Card, Field, SubmitBar, Button, Cell, CellGroup, Dialog } from 'vant';\nimport _ from 'lodash';\nimport {\n  orderDetail,\n  orderDelete,\n  orderConfirm,\n  orderCancel,\n  orderRefund\n} from '@/api/api';\n\nexport default {\n  data() {\n    return {\n      isSubmit: false,\n      isDisabled: false,\n      orderInfo: {},\n      orderGoods: [],\n      handleOption: {},\n      expressInfo: {}\n    };\n  },\n  created() {\n    this.init();\n  },\n\n  methods: {\n    showExp() {\n      return _.has(this.orderInfo, 'expNo');\n    },\n    deleteOrder(id) {\n      let that = this;\n      this.$dialog\n        .confirm({ message: '确定要删除该订单吗?' })\n        .then(() => {\n          orderDelete({ orderId: id }).then(() => {\n            this.$toast('已删除订单');\n            this.$router.go(-1);\n          });\n        })\n        .catch(() => {});\n    },\n    cancelOrder(id) {\n      this.$dialog\n        .confirm({ message: '确定要取消该订单吗?' })\n        .then(() => {\n          orderDelete({ orderId: id }).then(() => {\n            this.init();\n            this.$toast('已取消该订单');\n          });\n        })\n        .catch(() => {});\n    },\n    confirmOrder(id) {\n      this.$dialog\n        .confirm({\n          message: '请确认收到货物, 确认收货后无法撤销!'\n        })\n        .then(() => {\n          orderConfirm({ orderId: id }).then(() => {\n            this.init();\n            this.$toast('已确认收货');\n          });\n        })\n        .catch(() => {});\n    },\n    refundOrder(id) {\n      this.$dialog\n        .confirm({ message: '确定要申请退款吗?' })\n        .then(() => {\n          orderRefund({ orderId: id }).then(() => {\n            this.init();\n            this.$toast('已申请订单退款');\n          });\n        })\n        .catch(() => {});\n    },\n    commentOrder(id) {},\n    toPay(id) {\n      this.$router.push({ name: 'payment', params: { orderId: id } });\n    },\n    init() {\n      let orderId = this.$route.query.orderId;\n      orderDetail({ orderId: orderId }).then(res => {\n        var data = res.data.data;\n        this.orderInfo = data.orderInfo;\n        this.orderGoods = data.orderGoods;\n        this.handleOption = data.orderInfo.handleOption;\n        this.expressInfo = data.expressInfo;\n      });\n    }\n  },\n\n  components: {\n    [Dialog.name]: Dialog,\n    [CellGroup.name]: CellGroup,\n    [Cell.name]: Cell,\n    [Button.name]: Button,\n    [SubmitBar.name]: SubmitBar,\n    [Card.name]: Card,\n    [Field.name]: Field\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n.order_detail {\n  padding-bottom: 70px;\n}\n</style>\n"]}]}