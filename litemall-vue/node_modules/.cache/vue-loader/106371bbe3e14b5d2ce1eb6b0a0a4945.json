{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\refund-list\\index.vue?vue&type=style&index=0&id=1bb18dec&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\refund-list\\index.vue","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\css-loader\\index.js","mtime":1737137197319},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1737137197255},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1737137198226},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1737137197662},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1737137194839}],"contextDependencies":[],"result":["\n.refund_list {\n  padding-bottom: 0;\n\n  &--footer_btn {\n    text-align: right;\n  }\n  &--panel {\n    margin-bottom: 10px;\n  }\n\n  &--van-card {\n    background-color: #fafafa;\n  }\n\n  &--total {\n    text-align: right;\n    padding: 10px;\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/user/refund-list","sourcesContent":["<template>\n  <div class=\"refund_list\">\n    <van-tabs sticky :active=\"activeIndex\" :swipe-threshold=\"5\" @click=\"handleTabClick\">\n      <van-tab v-for=\"(tab, tabIndex) in tabsItem\" :title=\"tab.name\" :key=\"tabIndex\">\n        <van-list v-model=\"loading\"\n                  :finished=\"finished\"\n                  :immediate-check=\"false\"\n                  finished-text=\"没有更多了\"\n                  @load=\"getRefundList\">\n          <van-panel\n            v-for=\"(el, i) in tab.items\"\n            class=\"order_list--panel\"\n            :key=\"i\"\n            :title=\"'订单编号: ' + el.id\"\n            :status=\"getStatusText(el.status)\"\n          >\n            <div>\n              <van-card\n                class=\"order_list--van-card\"\n                :key=\"i\"\n                :title=\"el.orderItem.item_name\"\n                :desc=\"el.orderItem.sku_props_str\"\n                :num=\"10000\"\n                :price=\"(el.orderItem.price / 100).toFixed(2)\"\n                :thumb=\"el.orderItem.pic_url\"\n              />\n              <div\n                class=\"order_list--total\"\n              >合计: {{el.refund_fee | yuan}}（含运费{{el.refund_post_fee | yuan}}）</div>\n            </div>\n            <div slot=\"footer\" style=\"text-align: right;\">\n              <van-button\n                size=\"small\"\n                @click=\"refund_handle(i)\"\n              >{{ el.status == 10 ? \"撤销申请\" : \"查看详情\"}}</van-button>\n            </div>\n          </van-panel>\n        </van-list>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n\n<script>\nimport { REFUND_LIST } from '@/api/api';\n\nimport { Tab, Tabs, Panel, Card, List } from 'vant';\n\nconst STATUS_TEXT = {\n  10: '退款中',\n  50: '退款关闭',\n  60: '退款成功'\n};\n\nexport default {\n  name: 'order-list',\n\n  data() {\n    return {\n      listApi: REFUND_LIST,\n      activeIndex: 0,\n      items: [],\n      page: 0,\n      limit: 10,\n      loading: false,\n      finished: false,\n      tabsItem: [\n        {\n          name: '全部',\n          status: 0,\n          items: []\n        },\n        {\n          name: '退款中',\n          status: 10,\n          items: []\n        },\n        {\n          name: '退款成功',\n          status: 60,\n          items: []\n        }\n      ]\n    };\n  },\n\n  methods: {\n    onLoad(i, items) {\n      this.tabsItem[i].items.push(...items);\n    },\n    refund_handle(i) {\n      const item = this.items[i];\n      if (item.status == 10) {\n        this.$dialog\n          .confirm({\n            message: '撤销后将不能再次发起申请，确定要撤销该申请吗？'\n          })\n          .then(() => {\n            this.$toast('已撤销该退款申请');\n            this.items[i].status = 50;\n          });\n      } else {\n        // 跳转退款详情\n      }\n    },\n    handleTabClick(index) {\n      if (this.activeIndex != index) {\n        this.activeIndex = index;\n      }\n    },\n    getStatusText(status) {\n      return STATUS_TEXT[status] || '';\n    },\n    getRefundList(){\n\n    }\n  },\n  components: {\n    [Tab.name]: Tab,\n    [Tabs.name]: Tabs,\n    [Panel.name]: Panel,\n    [Card.name]: Card,\n    [List.name]: List\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.refund_list {\n  padding-bottom: 0;\n\n  &--footer_btn {\n    text-align: right;\n  }\n  &--panel {\n    margin-bottom: 10px;\n  }\n\n  &--van-card {\n    background-color: #fafafa;\n  }\n\n  &--total {\n    text-align: right;\n    padding: 10px;\n  }\n}\n</style>\n"]}]}