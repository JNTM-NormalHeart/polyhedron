{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\user-information-set\\set-password\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\user-information-set\\set-password\\index.vue","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\babel.config.js","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1737137193353},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1737137194839}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/defineProperty.js\"));\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"vant/es/field/style\");\nvar _field = _interopRequireDefault(require(\"vant/es/field\"));\nrequire(\"vant/es/toast/style\");\nvar _toast = _interopRequireDefault(require(\"vant/es/toast\"));\nvar _api = require(\"@/api/api\");\nvar _localStorage = require(\"@/utils/local-storage\");\nvar _default = exports.default = {\n  data: function data() {\n    return {\n      password: '',\n      password2: '',\n      mobile: '',\n      code: '',\n      counting: false\n    };\n  },\n  methods: {\n    modifypassword: function modifypassword() {\n      var _this = this;\n      if (this.passwordValid()) {\n        (0, _api.authReset)({\n          password: this.password,\n          mobile: this.mobile,\n          code: this.code\n        }).then(function () {\n          _this.$dialog.alert({\n            message: '保存成功, 请重新登录.'\n          });\n          (0, _api.authLogout)();\n        }).catch(function (error) {\n          _toast.default.fail(error.data.errmsg);\n        });\n      }\n    },\n    passwordValid: function passwordValid() {\n      return true;\n    },\n    getCode: function getCode() {\n      var _this2 = this;\n      if (this.mobile === '') {\n        this.$toast.fail('请输入号码');\n        return;\n      }\n      if (!this.counting) {\n        (0, _api.authCaptcha)({\n          mobile: this.mobile,\n          type: 'change-password'\n        }).then(function () {\n          _this2.$toast.success('发送成功');\n          _this2.counting = true;\n        }).catch(function (error) {\n          _this2.$toast.fail(error.data.errmsg);\n          _this2.counting = false;\n        });\n      }\n    }\n  },\n  components: (0, _defineProperty2.default)({}, _field.default.name, _field.default)\n};",{"version":3,"names":["_api","require","_localStorage","_default","exports","default","data","password","password2","mobile","code","counting","methods","modifypassword","_this","passwordValid","authReset","then","$dialog","alert","message","authLogout","catch","error","_toast","fail","errmsg","getCode","_this2","$toast","authCaptcha","type","success","components","_defineProperty2","_field","name"],"sources":["src/views/user/user-information-set/set-password/index.vue"],"sourcesContent":["<template>\n  <div>\n    <van-cell-group>\n\n      <van-field\n        label=\"手机号码\"\n        v-model=\"mobile\"\n        placeholder=\"请输入手机号码\"\n      />\n\n\t\t\t<van-field\n\t\t\t\tlabel=\"验证码\"\n\t\t\t\tv-model=\"code\"\n\t\t\t\t@click-icon=\"getCode\"\n\t\t\t\tplaceholder=\"请输入验证码\">\n\n\t\t\t\t<span slot=\"button\"\n\t\t\t\t\tclass=\"verifi_code red\"\n\t\t\t\t\t:class=\"{verifi_code_counting: counting}\"\n\t\t\t\t\t@click=\"getCode\">\n\t\t\t\t\t<countdown v-if=\"counting\" :time=\"60000\" @end=\"countdownend\">\n\t\t\t\t\t  <template slot-scope=\"props\">{{ +props.seconds || 60 }}秒后获取</template>\n\t\t\t\t\t</countdown>\n\t\t\t\t\t<span v-else>获取验证码</span>\n\t\t\t\t</span>\n\t\t\t</van-field>\n\n      <van-field\n        label=\"新密码\"\n        v-model=\"password\"\n        type=\"password\"\n        placeholder=\"请输入新密码\"\n      />\n\n      <van-field\n        label=\"确认密码\"\n        v-model=\"password2\"\n        type=\"password\"\n        placeholder=\"请再次输入密码\"\n      />\n\n    </van-cell-group>\n\n    <div class=\"bottom_btn\">\n      <van-button size=\"large\" type=\"danger\" @click=\"modifypassword\">保存</van-button>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { authCaptcha, authReset, authLogout } from '@/api/api';\nimport { removeLocalStorage } from '@/utils/local-storage';\nimport { Field, Toast } from 'vant';\n\nexport default {\n  data: () => ({\n    password: '',\n    password2: '',\n    mobile: '',\n    code: '',\n    counting: false\n  }),\n\n  methods: {\n    modifypassword() {\n      if (this.passwordValid()) {\n        authReset({\n          password: this.password,\n          mobile: this.mobile,\n          code: this.code\n        })\n        .then(() => {\n          this.$dialog.alert({ message: '保存成功, 请重新登录.' })\n          authLogout();\n        }).catch (error => {\n        Toast.fail(error.data.errmsg);\n        });\n      }\n    },\n    passwordValid() {\n      return true;\n    },\n    getCode() {\n      if(this.mobile === ''){\n        this.$toast.fail('请输入号码');\n        return\n      }\n\n      if (!this.counting) {\n        authCaptcha({\n          mobile: this.mobile,\n          type: 'change-password'\n        }).then(() => {\n          this.$toast.success('发送成功');\n          this.counting = true;\n        }).catch(error => {\n          this.$toast.fail(error.data.errmsg);\n          this.counting = false;\n        })\n\n      }\n    },\n  },\n\n  components: {\n    [Field.name]: Field\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import '../../../../assets/scss/var';\n@import '../../../../assets/scss/mixin';\n.bottom_btn {\n  padding: 30px 15px 0 15px;\n}\n\n.verifi_code {\n  @include one-border;\n  padding-left: 10px;\n  &::after {\n    border-bottom: 0;\n    border-left: 1px solid $border-color;\n  }\n\n  &_counting {\n    color: $font-color-gray;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;AAmDA,IAAAA,IAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAGA;EACAC,IAAA,WAAAA,KAAA;IAAA;MACAC,QAAA;MACAC,SAAA;MACAC,MAAA;MACAC,IAAA;MACAC,QAAA;IACA;EAAA;EAEAC,OAAA;IACAC,cAAA,WAAAA,eAAA;MAAA,IAAAC,KAAA;MACA,SAAAC,aAAA;QACA,IAAAC,cAAA;UACAT,QAAA,OAAAA,QAAA;UACAE,MAAA,OAAAA,MAAA;UACAC,IAAA,OAAAA;QACA,GACAO,IAAA;UACAH,KAAA,CAAAI,OAAA,CAAAC,KAAA;YAAAC,OAAA;UAAA;UACA,IAAAC,eAAA;QACA,GAAAC,KAAA,WAAAC,KAAA;UACAC,MAAA,CAAAnB,OAAA,CAAAoB,IAAA,CAAAF,KAAA,CAAAjB,IAAA,CAAAoB,MAAA;QACA;MACA;IACA;IACAX,aAAA,WAAAA,cAAA;MACA;IACA;IACAY,OAAA,WAAAA,QAAA;MAAA,IAAAC,MAAA;MACA,SAAAnB,MAAA;QACA,KAAAoB,MAAA,CAAAJ,IAAA;QACA;MACA;MAEA,UAAAd,QAAA;QACA,IAAAmB,gBAAA;UACArB,MAAA,OAAAA,MAAA;UACAsB,IAAA;QACA,GAAAd,IAAA;UACAW,MAAA,CAAAC,MAAA,CAAAG,OAAA;UACAJ,MAAA,CAAAjB,QAAA;QACA,GAAAW,KAAA,WAAAC,KAAA;UACAK,MAAA,CAAAC,MAAA,CAAAJ,IAAA,CAAAF,KAAA,CAAAjB,IAAA,CAAAoB,MAAA;UACAE,MAAA,CAAAjB,QAAA;QACA;MAEA;IACA;EACA;EAEAsB,UAAA,MAAAC,gBAAA,CAAA7B,OAAA,MACA8B,MAAA,CAAA9B,OAAA,CAAA+B,IAAA,EAAAD,MAAA,CAAA9B,OAAA;AAEA","ignoreList":[]}]}