{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\coupon-list\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\user\\coupon-list\\index.vue","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\babel.config.js","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1737137193353},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1737137194839}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/defineProperty.js\"));\nrequire(\"vant/es/coupon-list/style\");\nvar _couponList = _interopRequireDefault(require(\"vant/es/coupon-list\"));\nrequire(\"vant/es/coupon-cell/style\");\nvar _couponCell = _interopRequireDefault(require(\"vant/es/coupon-cell\"));\nrequire(\"vant/es/list/style\");\nvar _list = _interopRequireDefault(require(\"vant/es/list\"));\nrequire(\"vant/es/card/style\");\nvar _card = _interopRequireDefault(require(\"vant/es/card\"));\nrequire(\"vant/es/panel/style\");\nvar _panel = _interopRequireDefault(require(\"vant/es/panel\"));\nrequire(\"vant/es/tabs/style\");\nvar _tabs = _interopRequireDefault(require(\"vant/es/tabs\"));\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"vant/es/tab/style\");\nvar _tab = _interopRequireDefault(require(\"vant/es/tab\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/toConsumableArray.js\"));\nrequire(\"core-js/modules/es6.number.constructor\");\nvar _api = require(\"@/api/api\");\nvar _default = exports.default = {\n  name: 'coupon-list',\n  props: {\n    active: {\n      type: [String, Number],\n      default: 0\n    }\n  },\n  created: function created() {\n    this.init();\n  },\n  data: function data() {\n    return {\n      activeIndex: Number(this.active),\n      tabTitles: ['未使用', '已使用', '已过期'],\n      couponList: [],\n      page: 0,\n      limit: 10,\n      loading: false,\n      finished: false\n    };\n  },\n  methods: {\n    init: function init() {\n      this.page = 0;\n      this.couponList = [];\n      this.getCouponList();\n    },\n    getCouponList: function getCouponList() {\n      var _this = this;\n      this.page++;\n      (0, _api.couponMyList)({\n        status: this.activeIndex,\n        page: this.page,\n        limit: this.limit\n      }).then(function (res) {\n        var _this$couponList;\n        (_this$couponList = _this.couponList).push.apply(_this$couponList, (0, _toConsumableArray2.default)(res.data.data.list));\n        _this.loading = false;\n        _this.finished = res.data.data.page >= res.data.data.pages;\n      });\n    },\n    handleTabClick: function handleTabClick() {\n      this.page = 0;\n      this.couponList = [];\n      this.getCouponList();\n    }\n  },\n  components: (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, _tab.default.name, _tab.default), _tabs.default.name, _tabs.default), _panel.default.name, _panel.default), _card.default.name, _card.default), _list.default.name, _list.default), \"CouponCell\", _couponCell.default), \"CouponList\", _couponList.default)\n};",{"version":3,"names":["_api","require","_default","exports","default","name","props","active","type","String","Number","created","init","data","activeIndex","tabTitles","couponList","page","limit","loading","finished","methods","getCouponList","_this","couponMyList","status","then","res","_this$couponList","push","apply","_toConsumableArray2","list","pages","handleTabClick","components","_defineProperty2","_tab","_tabs","_panel","_card","_list","_couponCell","_couponList"],"sources":["src/views/user/coupon-list/index.vue"],"sourcesContent":["<template>\n  <div class=\"coupon_list\">\n    <van-tabs v-model=\"activeIndex\"\n              type=\"card\"\n              sticky\n              @click=\"handleTabClick\">\n      <van-tab v-for=\"(tabTitle, tabIndex) in tabTitles\"\n               :title=\"tabTitle\"\n               :key=\"tabIndex\">\n        <van-list v-model=\"loading\"\n                  :finished=\"finished\"\n                  :immediate-check=\"false\"\n                  finished-text=\"没有更多了\"\n                  @load=\"getCouponList\">\n          <van-panel style=\" padding-bottom: 10px;\">\n            <div class=\"van-coupon-item\"\n                 v-for=\"(coupon,index) in couponList\"\n                 :key=\"index\">\n              <div class=\"van-coupon-item__content\">\n                <div class=\"van-coupon-item__head\">\n                  <h2>\n                    <span>¥</span>\n                    {{coupon.discount}} 元\n                  </h2>\n                  <p>{{coupon.desc }} - {{coupon.tag}}</p>\n                </div>\n                <div class=\"van-coupon-item__body\">\n                  <h2>{{coupon.name}}</h2>\n                  <p>有效期: 至 {{coupon.endTime}}</p>\n\n                </div>\n              </div>\n\n            </div>\n          </van-panel>\n        </van-list>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n\n<script>\nimport { couponMyList } from '@/api/api';\n\nimport { Tab, Tabs, Panel, Card, List, CouponCell, CouponList } from 'vant';\nimport _ from 'lodash';\n\nexport default {\n  name: 'coupon-list',\n\n  props: {\n    active: {\n      type: [String, Number],\n      default: 0\n    }\n  },\n  created() {\n    this.init();\n  },\n  data() {\n    return {\n      activeIndex: Number(this.active),\n      tabTitles: ['未使用', '已使用', '已过期'],\n      couponList: [],\n      page: 0,\n      limit: 10,\n      loading: false,\n      finished: false\n    };\n  },\n\n  methods: {\n    init() {\n      this.page = 0;\n      this.couponList = [];\n      this.getCouponList();\n    },\n    getCouponList() {\n      this.page++;\n\n      couponMyList({\n        status: this.activeIndex,\n        page: this.page,\n        limit: this.limit\n      }).then(res => {\n        this.couponList.push(...res.data.data.list);\n\n        this.loading = false;\n        this.finished = res.data.data.page >= res.data.data.pages;\n      });\n    },\n    handleTabClick() {\n      this.page = 0;\n      this.couponList = [];\n      this.getCouponList();\n    }\n  },\n  components: {\n    [Tab.name]: Tab,\n    [Tabs.name]: Tabs,\n    [Panel.name]: Panel,\n    [Card.name]: Card,\n    [List.name]: List,\n    CouponCell,\n    CouponList\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\n.van-coupon-item {\n  overflow: hidden;\n  border-radius: 4px;\n  margin: 0 15px 15px;\n  background-color: #fff;\n  -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);\n}\n.van-coupon-item:active {\n  background-color: #e8e8e8;\n}\n.van-coupon-item__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 100px;\n  padding: 24px 0 0 15px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid red;\n}\n.van-coupon-item h2,\n.van-coupon-item p {\n  margin: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.van-coupon-item h2 {\n  height: 34px;\n  font-weight: 500;\n  line-height: 34px;\n}\n.van-coupon-item p {\n  font-size: 12px;\n  line-height: 16px;\n  color: #969799;\n}\n.van-coupon-item__head {\n  min-width: 90px;\n}\n.van-coupon-item__head h2 {\n  color: #f44;\n  font-size: 24px;\n}\n.van-coupon-item__head h2 span {\n  font-size: 50%;\n}\n.van-coupon-item__body {\n  -webkit-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  position: relative;\n  border-radius: 0 4px 4px 0;\n  margin-left: 20px;\n}\n.van-coupon-item__body h2 {\n  font-size: 16px;\n}\n.van-coupon-item__corner {\n  top: 16px;\n  right: 15px;\n  position: absolute;\n}\n.van-coupon-item__corner .van-icon {\n  border-color: #f44;\n  background-color: #f44;\n}\n.van-coupon-item__reason {\n  padding: 7px 15px;\n  border-top: 1px dashed #ebedf0;\n  background-color: #fafafa;\n}\n.van-coupon-item--disabled:active {\n  background-color: #fff;\n}\n.van-coupon-item--disabled .van-coupon-item__content {\n  height: 90px;\n}\n.van-coupon-item--disabled h2,\n.van-coupon-item--disabled p,\n.van-coupon-item--disabled span {\n  color: #969799;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,IAAAA,IAAA,GAAAC,OAAA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAKA;EACAC,IAAA;EAEAC,KAAA;IACAC,MAAA;MACAC,IAAA,GAAAC,MAAA,EAAAC,MAAA;MACAN,OAAA;IACA;EACA;EACAO,OAAA,WAAAA,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA,EAAAJ,MAAA,MAAAH,MAAA;MACAQ,SAAA;MACAC,UAAA;MACAC,IAAA;MACAC,KAAA;MACAC,OAAA;MACAC,QAAA;IACA;EACA;EAEAC,OAAA;IACAT,IAAA,WAAAA,KAAA;MACA,KAAAK,IAAA;MACA,KAAAD,UAAA;MACA,KAAAM,aAAA;IACA;IACAA,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MACA,KAAAN,IAAA;MAEA,IAAAO,iBAAA;QACAC,MAAA,OAAAX,WAAA;QACAG,IAAA,OAAAA,IAAA;QACAC,KAAA,OAAAA;MACA,GAAAQ,IAAA,WAAAC,GAAA;QAAA,IAAAC,gBAAA;QACA,CAAAA,gBAAA,GAAAL,KAAA,CAAAP,UAAA,EAAAa,IAAA,CAAAC,KAAA,CAAAF,gBAAA,MAAAG,mBAAA,CAAA3B,OAAA,EAAAuB,GAAA,CAAAd,IAAA,CAAAA,IAAA,CAAAmB,IAAA;QAEAT,KAAA,CAAAJ,OAAA;QACAI,KAAA,CAAAH,QAAA,GAAAO,GAAA,CAAAd,IAAA,CAAAA,IAAA,CAAAI,IAAA,IAAAU,GAAA,CAAAd,IAAA,CAAAA,IAAA,CAAAoB,KAAA;MACA;IACA;IACAC,cAAA,WAAAA,eAAA;MACA,KAAAjB,IAAA;MACA,KAAAD,UAAA;MACA,KAAAM,aAAA;IACA;EACA;EACAa,UAAA,MAAAC,gBAAA,CAAAhC,OAAA,MAAAgC,gBAAA,CAAAhC,OAAA,MAAAgC,gBAAA,CAAAhC,OAAA,MAAAgC,gBAAA,CAAAhC,OAAA,MAAAgC,gBAAA,CAAAhC,OAAA,MAAAgC,gBAAA,CAAAhC,OAAA,MAAAgC,gBAAA,CAAAhC,OAAA,MACAiC,IAAA,CAAAjC,OAAA,CAAAC,IAAA,EAAAgC,IAAA,CAAAjC,OAAA,GACAkC,KAAA,CAAAlC,OAAA,CAAAC,IAAA,EAAAiC,KAAA,CAAAlC,OAAA,GACAmC,MAAA,CAAAnC,OAAA,CAAAC,IAAA,EAAAkC,MAAA,CAAAnC,OAAA,GACAoC,KAAA,CAAApC,OAAA,CAAAC,IAAA,EAAAmC,KAAA,CAAApC,OAAA,GACAqC,KAAA,CAAArC,OAAA,CAAAC,IAAA,EAAAoC,KAAA,CAAArC,OAAA,iBAAAsC,WAAA,CAAAtC,OAAA,iBAAAuC,WAAA,CAAAvC,OAAA;AAIA","ignoreList":[]}]}