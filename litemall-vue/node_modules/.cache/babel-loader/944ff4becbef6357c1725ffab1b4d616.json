{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\utils\\request.js","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\babel.config.js","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1737137193353},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\eslint-loader\\index.js","mtime":1737137197619}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"vant/es/dialog/style\");\nvar _dialog = _interopRequireDefault(require(\"vant/es/dialog\"));\nrequire(\"vant/es/toast/style\");\nvar _toast = _interopRequireDefault(require(\"vant/es/toast\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\n// create an axios instance\nvar service = _axios.default.create({\n  baseURL: process.env.VUE_APP_BASE_API,\n  // api 的 base_url\n  timeout: 5000 // request timeout\n});\n\n// request interceptor\nservice.interceptors.request.use(function (config) {\n  if (!config.headers['X-Litemall-Token']) {\n    config.headers['X-Litemall-Token'] = \"\".concat(window.localStorage.getItem('Authorization') || '');\n  }\n  return config;\n}, function (err) {\n  return Promise.reject(err);\n});\n\n// response interceptor\nservice.interceptors.response.use(function (response) {\n  var res = response.data;\n  if (res.errno === 501) {\n    _toast.default.fail('请登录');\n    setTimeout(function () {\n      window.location = '#/login/';\n    }, 1500);\n    return Promise.reject('error');\n  } else if (res.errno === 502) {\n    _toast.default.fail('网站内部错误，请联系网站维护人员');\n    return Promise.reject('error');\n  }\n  if (res.errno === 401) {\n    _toast.default.fail('参数不对');\n    return Promise.reject('error');\n  }\n  if (res.errno === 402) {\n    _toast.default.fail('参数值不对');\n    return Promise.reject('error');\n  } else if (res.errno !== 0) {\n    // 非5xx的错误属于业务错误，留给具体页面处理\n    return Promise.reject(response);\n  } else {\n    return response;\n  }\n}, function (error) {\n  console.log('err' + error); // for debug\n  _dialog.default.alert({\n    title: '警告',\n    message: '登录连接超时'\n  });\n  return Promise.reject(error);\n});\nvar _default = exports.default = service;",{"version":3,"names":["_axios","_interopRequireDefault","require","service","axios","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","headers","concat","window","localStorage","getItem","err","Promise","reject","response","res","data","errno","_toast","default","fail","setTimeout","location","error","console","log","_dialog","alert","title","message","_default","exports"],"sources":["C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { Dialog, Toast } from 'vant';\n\n// create an axios instance\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API, // api 的 base_url\n  timeout: 5000 // request timeout\n})\n\n// request interceptor\nservice.interceptors.request.use(\n    config => {\n    if (!config.headers['X-Litemall-Token']) {\n      config.headers['X-Litemall-Token'] = `${window.localStorage.getItem(\n        'Authorization'\n      ) || ''}`;\n    }\n    return config;\n  },\n  err => Promise.reject(err)\n)\n\n// response interceptor\nservice.interceptors.response.use(\n  response => {\n    const res = response.data\n\n    if (res.errno === 501) {\n        Toast.fail('请登录');\n        setTimeout(() => {\n          window.location = '#/login/'\n        }, 1500)\n      return Promise.reject('error')\n    } else if (res.errno === 502) {\n        Toast.fail('网站内部错误，请联系网站维护人员')\n      return Promise.reject('error')\n    } if (res.errno === 401) {\n      Toast.fail('参数不对');\n      return Promise.reject('error')\n    } if (res.errno === 402) {\n      Toast.fail('参数值不对');\n      return Promise.reject('error')\n    } else if (res.errno !== 0) {\n      // 非5xx的错误属于业务错误，留给具体页面处理\n      return Promise.reject(response)\n    } else {\n      return response\n    }\n  }, error => {\n    console.log('err' + error)// for debug\n    Dialog.alert({\n        title: '警告',\n        message: '登录连接超时'\n      });\n    return Promise.reject(error)\n  })\n\nexport default service\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAGA;AACA,IAAMC,OAAO,GAAGC,cAAK,CAACC,MAAM,CAAC;EAC3BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EAAE;EACvCC,OAAO,EAAE,IAAI,CAAC;AAChB,CAAC,CAAC;;AAEF;AACAP,OAAO,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5B,UAAAC,MAAM,EAAI;EACV,IAAI,CAACA,MAAM,CAACC,OAAO,CAAC,kBAAkB,CAAC,EAAE;IACvCD,MAAM,CAACC,OAAO,CAAC,kBAAkB,CAAC,MAAAC,MAAA,CAAMC,MAAM,CAACC,YAAY,CAACC,OAAO,CACjE,eACF,CAAC,IAAI,EAAE,CAAE;EACX;EACA,OAAOL,MAAM;AACf,CAAC,EACD,UAAAM,GAAG;EAAA,OAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;AAAA,CAC5B,CAAC;;AAED;AACAjB,OAAO,CAACQ,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC/B,UAAAU,QAAQ,EAAI;EACV,IAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EAEzB,IAAID,GAAG,CAACE,KAAK,KAAK,GAAG,EAAE;IACnBC,MAAA,CAAAC,OAAA,CAAMC,IAAI,CAAC,KAAK,CAAC;IACjBC,UAAU,CAAC,YAAM;MACfb,MAAM,CAACc,QAAQ,GAAG,UAAU;IAC9B,CAAC,EAAE,IAAI,CAAC;IACV,OAAOV,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC,CAAC,MAAM,IAAIE,GAAG,CAACE,KAAK,KAAK,GAAG,EAAE;IAC1BC,MAAA,CAAAC,OAAA,CAAMC,IAAI,CAAC,kBAAkB,CAAC;IAChC,OAAOR,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC;EAAE,IAAIE,GAAG,CAACE,KAAK,KAAK,GAAG,EAAE;IACvBC,MAAA,CAAAC,OAAA,CAAMC,IAAI,CAAC,MAAM,CAAC;IAClB,OAAOR,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC;EAAE,IAAIE,GAAG,CAACE,KAAK,KAAK,GAAG,EAAE;IACvBC,MAAA,CAAAC,OAAA,CAAMC,IAAI,CAAC,OAAO,CAAC;IACnB,OAAOR,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC,CAAC,MAAM,IAAIE,GAAG,CAACE,KAAK,KAAK,CAAC,EAAE;IAC1B;IACA,OAAOL,OAAO,CAACC,MAAM,CAACC,QAAQ,CAAC;EACjC,CAAC,MAAM;IACL,OAAOA,QAAQ;EACjB;AACF,CAAC,EAAE,UAAAS,KAAK,EAAI;EACVC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC;EAC1BG,OAAA,CAAAP,OAAA,CAAOQ,KAAK,CAAC;IACTC,KAAK,EAAE,IAAI;IACXC,OAAO,EAAE;EACX,CAAC,CAAC;EACJ,OAAOjB,OAAO,CAACC,MAAM,CAACU,KAAK,CAAC;AAC9B,CAAC,CAAC;AAAA,IAAAO,QAAA,GAAAC,OAAA,CAAAZ,OAAA,GAEWzB,OAAO","ignoreList":[]}]}