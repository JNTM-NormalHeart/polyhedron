{"remainingRequest":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\login\\register-submit\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\src\\views\\login\\register-submit\\index.vue","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\babel.config.js","mtime":1703663878000},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1737137193353},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737137198017},{"path":"C:\\Users\\Wang\\Desktop\\polyhedron\\litemall-master\\litemall-master\\litemall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1737137194839}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"C:/Users/Wang/Desktop/polyhedron/litemall-master/litemall-master/litemall-vue/node_modules/@babel/runtime/helpers/defineProperty.js\"));\nrequire(\"core-js/modules/es6.function.name\");\nrequire(\"vant/es/toast/style\");\nvar _toast = _interopRequireDefault(require(\"vant/es/toast\"));\nvar _field = _interopRequireDefault(require(\"@/components/field/\"));\nvar _fieldGroup = _interopRequireDefault(require(\"@/components/field-group/\"));\nvar _api = require(\"@/api/api\");\nvar _default = exports.default = {\n  props: {\n    phone: String\n  },\n  data: function data() {\n    return {\n      counting: true,\n      code: '',\n      username: '',\n      password: '',\n      repeatPassword: ''\n    };\n  },\n  mounted: function mounted() {\n    this.getCode();\n  },\n  methods: {\n    registerSubmit: function registerSubmit() {\n      var _this = this;\n      if (this.username === '' || this.code === '') {\n        return;\n      }\n      if (this.password === '' || this.repeatPassword === '') {\n        return;\n      }\n      if (this.password !== this.repeatPassword) {\n        this.password = '';\n        this.repeatPassword = '';\n        return;\n      }\n      var data = this.getRegisterData();\n      (0, _api.authRegister)(data).then(function (res) {\n        _this.$router.push({\n          name: 'registerStatus',\n          params: {\n            status: 'success'\n          }\n        });\n      }).catch(function (error) {\n        _toast.default.fail(error.data.errmsg);\n        if (error.data.errno == 705) {\n          window.location = '#/login/';\n        }\n      });\n    },\n    getCode: function getCode() {\n      var _this2 = this;\n      this.counting = true;\n      var data = {\n        mobile: this.phone\n      };\n      (0, _api.authRegisterCaptcha)(data).then(function (res) {\n        _this2.counting = true;\n      }).catch(function (error) {\n        alert(error.data.errmsg);\n        _this2.counting = true;\n      });\n    },\n    getRegisterData: function getRegisterData() {\n      var password = this.password;\n      var code = this.code;\n      var repeatPassword = this.repeatPassword;\n      var mobile = this.phone;\n      var username = this.username;\n      return {\n        code: code,\n        username: username,\n        password: password,\n        repeatPassword: repeatPassword,\n        mobile: mobile\n      };\n    },\n    countDownEnd: function countDownEnd() {\n      this.counting = false;\n    }\n  },\n  components: (0, _defineProperty2.default)((0, _defineProperty2.default)({}, _field.default.name, _field.default), _fieldGroup.default.name, _fieldGroup.default)\n};",{"version":3,"names":["_field","_interopRequireDefault","require","_fieldGroup","_api","_default","exports","default","props","phone","String","data","counting","code","username","password","repeatPassword","mounted","getCode","methods","registerSubmit","_this","getRegisterData","authRegister","then","res","$router","push","name","params","status","catch","error","_toast","fail","errmsg","errno","window","location","_this2","mobile","authRegisterCaptcha","alert","countDownEnd","components","_defineProperty2","field","fieldGroup"],"sources":["src/views/login/register-submit/index.vue"],"sourcesContent":["<template>\n\t<md-field-group class=\"register_submit\">\n\t\t<md-field v-model=\"code\" icon=\"mobile\" placeholder=\"请输入验证码\">\n\t\t\t<div slot=\"rightIcon\" @click=\"getCode\" class=\"getCode red\">\n\t\t\t\t<countdown v-if=\"counting\" :time=\"60000\" @end=\"countDownEnd\">\n\t\t\t\t  <template slot-scope=\"props\">{{ +props.seconds || 60 }}秒后获取</template>\n\t\t\t\t</countdown>\n\t\t\t\t<span v-else>获取验证码</span>\n\t\t\t</div>\n\t\t</md-field>\n\t\t<md-field v-model=\"username\" icon=\"username\" placeholder=\"请输入用户名\"/>\n\t\t<md-field v-model=\"password\" icon=\"lock\" placeholder=\"请输入密码\"/>\n\t\t<md-field v-model=\"repeatPassword\" icon=\"lock\" placeholder=\"请再次确认密码\"/>\n\n\t\t<div class=\"register_submit_btn\">\n\t\t\t<van-button type=\"danger\" size=\"large\" @click=\"registerSubmit\">确定</van-button>\n\t\t</div>\n\t</md-field-group>\n</template>\n\n<script>\nimport field from '@/components/field/';\nimport fieldGroup from '@/components/field-group/';\nimport { authRegisterCaptcha } from '@/api/api';\nimport { authRegister } from '@/api/api';\nimport {Toast} from \"vant\";\n\nexport default {\n\tprops: {\n\t\tphone: String\n\t},\n\tdata() {\n\t\treturn {\n\t\t  counting: true,\n\t\t  code: '',\n\t\t  username: '',\n\t\t  password: '',\n\t\t  repeatPassword: ''\n\t\t};\n\t},\n\tmounted:function(){\n\t\tthis.getCode();\n\t},\n\n  methods: {\n    registerSubmit() {\n      if(this.username === '' || this.code === ''){\n        return\n      }\n      if(this.password === '' || this.repeatPassword === ''){\n        return\n      }\n      if(this.password !== this.repeatPassword){\n        this.password = ''\n        this.repeatPassword = ''\n        return\n      }\n      let data = this.getRegisterData();\n      authRegister(data).then(res => {\n        this.$router.push({\n          name: 'registerStatus',\n          params: { status: 'success' }\n        });\n      }).catch (error => {\n        Toast.fail(error.data.errmsg);\n        if (error.data.errno == 705) {\n          window.location = '#/login/';\n        }\n      });\n    },\n\n    getCode() {\n      this.counting = true;\n      let data = {\n        mobile: this.phone\n      };\n      authRegisterCaptcha(data).then(res => {\n        this.counting = true;\n      }).catch(error => {\n        alert(error.data.errmsg);\n        this.counting = true;\n      });\n    },\n\n    getRegisterData() {\n      const password = this.password;\n      const code = this.code;\n      const repeatPassword = this.repeatPassword;\n      const mobile = this.phone;\n      const username = this.username;\n      return {\n        code: code,\n        username: username,\n        password: password,\n        repeatPassword: repeatPassword,\n        mobile: mobile\n      };\n    },\n\n    countDownEnd() {\n      this.counting = false;\n    }\n  },\n\n  components: {\n    [field.name]: field,\n    [fieldGroup.name]: fieldGroup\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import '../../../assets/scss/mixin';\n\n.register_submit {\n  padding-top: 40px;\n  background-color: #fff;\n}\n\n.register_submit_btn {\n  padding-top: 30px;\n}\n\n.getCode {\n  @include one-border(left);\n  text-align: center;\n}\n\n.time_down {\n  color: $red;\n}\n</style>\n"],"mappings":";;;;;;;;;;;AAqBA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,IAAA,GAAAF,OAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAIA;EACAC,KAAA;IACAC,KAAA,EAAAC;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,IAAA;MACAC,QAAA;MACAC,QAAA;MACAC,cAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EAEAC,OAAA;IACAC,cAAA,WAAAA,eAAA;MAAA,IAAAC,KAAA;MACA,SAAAP,QAAA,gBAAAD,IAAA;QACA;MACA;MACA,SAAAE,QAAA,gBAAAC,cAAA;QACA;MACA;MACA,SAAAD,QAAA,UAAAC,cAAA;QACA,KAAAD,QAAA;QACA,KAAAC,cAAA;QACA;MACA;MACA,IAAAL,IAAA,QAAAW,eAAA;MACA,IAAAC,iBAAA,EAAAZ,IAAA,EAAAa,IAAA,WAAAC,GAAA;QACAJ,KAAA,CAAAK,OAAA,CAAAC,IAAA;UACAC,IAAA;UACAC,MAAA;YAAAC,MAAA;UAAA;QACA;MACA,GAAAC,KAAA,WAAAC,KAAA;QACAC,MAAA,CAAA1B,OAAA,CAAA2B,IAAA,CAAAF,KAAA,CAAArB,IAAA,CAAAwB,MAAA;QACA,IAAAH,KAAA,CAAArB,IAAA,CAAAyB,KAAA;UACAC,MAAA,CAAAC,QAAA;QACA;MACA;IACA;IAEApB,OAAA,WAAAA,QAAA;MAAA,IAAAqB,MAAA;MACA,KAAA3B,QAAA;MACA,IAAAD,IAAA;QACA6B,MAAA,OAAA/B;MACA;MACA,IAAAgC,wBAAA,EAAA9B,IAAA,EAAAa,IAAA,WAAAC,GAAA;QACAc,MAAA,CAAA3B,QAAA;MACA,GAAAmB,KAAA,WAAAC,KAAA;QACAU,KAAA,CAAAV,KAAA,CAAArB,IAAA,CAAAwB,MAAA;QACAI,MAAA,CAAA3B,QAAA;MACA;IACA;IAEAU,eAAA,WAAAA,gBAAA;MACA,IAAAP,QAAA,QAAAA,QAAA;MACA,IAAAF,IAAA,QAAAA,IAAA;MACA,IAAAG,cAAA,QAAAA,cAAA;MACA,IAAAwB,MAAA,QAAA/B,KAAA;MACA,IAAAK,QAAA,QAAAA,QAAA;MACA;QACAD,IAAA,EAAAA,IAAA;QACAC,QAAA,EAAAA,QAAA;QACAC,QAAA,EAAAA,QAAA;QACAC,cAAA,EAAAA,cAAA;QACAwB,MAAA,EAAAA;MACA;IACA;IAEAG,YAAA,WAAAA,aAAA;MACA,KAAA/B,QAAA;IACA;EACA;EAEAgC,UAAA,MAAAC,gBAAA,CAAAtC,OAAA,MAAAsC,gBAAA,CAAAtC,OAAA,MACAuC,cAAA,CAAAlB,IAAA,EAAAkB,cAAA,GACAC,mBAAA,CAAAnB,IAAA,EAAAmB,mBAAA;AAEA","ignoreList":[]}]}